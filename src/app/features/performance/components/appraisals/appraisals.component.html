<div class="appraisal-form-container">
  <mat-card class="appraisal-card">
    <mat-card-header>
      <mat-card-title>
        <mat-icon>assessment</mat-icon>
        Create Appraisal
      </mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <form [formGroup]="appraisalForm" (ngSubmit)="onSubmit()" class="appraisal-form">
        
        <!-- Appraisal Section -->
        <div class="form-section">
          <div class="section-title">
            <mat-icon>schedule</mat-icon>
            Appraisal Details
          </div>

          <div class="form-row">
            <!-- Appraisal Cycle -->
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Select Appraisal Cycle</mat-label>
              <mat-select formControlName="cycleId">
                <mat-option *ngFor="let cycle of appraisalCycles" [value]="cycle.cycleId">
                  {{ cycle.cycleName }}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <!-- Employee Selection -->
            <mat-form-field appearance="outline">
              <mat-label>Select Employee</mat-label>
              <mat-select formControlName="employeeId" required>
                <mat-option *ngFor="let emp of employees" [value]="emp.employeeId">
                  {{ emp.fullName }}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <!-- Review Type -->
            <mat-form-field appearance="outline">
              <mat-label>Review Type</mat-label>
              <mat-select formControlName="reviewType" required>
                <mat-option *ngFor="let type of reviewTypes" [value]="type.value">
                  {{ type.label }}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <!-- Overall Rating -->
            <mat-form-field appearance="outline">
              <mat-label>Overall Rating (0â€“5)</mat-label>
              <input matInput type="number" formControlName="overallRating" min="0" max="5" />
            </mat-form-field>

            <!-- Feedback -->
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Feedback</mat-label>
              <textarea matInput formControlName="feedback"></textarea>
            </mat-form-field>

            <!-- Improvement Areas -->
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Improvement Areas</mat-label>
              <textarea matInput formControlName="improvementAreas"></textarea>
            </mat-form-field>

            <!-- Development Plan -->
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Development Plan</mat-label>
              <textarea matInput formControlName="developmentPlan"></textarea>
            </mat-form-field>
          </div>
        </div>

        <!-- Form Actions -->
        <div class="form-actions">
          <button mat-raised-button color="primary" type="submit" [disabled]="isSubmitting">
            <mat-icon>save</mat-icon>
            {{ isSubmitting ? 'Submitting...' : 'Create Appraisal' }}
          </button>
        </div>

      </form>
    </mat-card-content>
  </mat-card>
</div>
