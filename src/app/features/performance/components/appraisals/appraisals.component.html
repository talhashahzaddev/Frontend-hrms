
<mat-card class="appraisal-card">
  <mat-card-title>Create Appraisal</mat-card-title>
  <mat-card-content>
    <form [formGroup]="appraisalForm" (ngSubmit)="onSubmit()">

      <!-- Cycle Selection -->
      <mat-form-field appearance="outline" class="w-full mb-4">
        <mat-label>Select Cycle</mat-label>
        <mat-select formControlName="cycleId" required>
          <mat-option *ngFor="let cycle of appraisalCycles" [value]="cycle.cycleId">
            {{ cycle.cycleName }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <!-- Employee Selection -->
      <mat-form-field appearance="outline" class="w-full mb-4">
        <mat-label>Select Employee</mat-label>
        <mat-select formControlName="employeeId" required>
          <mat-option *ngFor="let emp of employees" [value]="emp.employeeId">
            {{ emp.fullName }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <!-- Review Type -->
      <mat-form-field appearance="outline" class="w-full mb-4">
        <mat-label>Review Type</mat-label>
        <mat-select formControlName="reviewType" required>
          <mat-option *ngFor="let type of reviewTypes" [value]="type.value">
            {{ type.label }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <!-- Overall Rating -->
      <mat-form-field appearance="outline" class="w-full mb-4">
        <mat-label>Overall Rating (0â€“5)</mat-label>
        <input matInput type="number" formControlName="overallRating" min="0" max="5" />
      </mat-form-field>

      <!-- ðŸš« KRA Ratings Section (Currently Disabled)
      <div formGroupName="kraRatings" class="mb-4">
        <h3 class="text-lg font-semibold mb-2">KRA Ratings</h3>

        <mat-form-field appearance="outline" class="w-full mb-3">
          <mat-label>Goal Achievement</mat-label>
          <input matInput type="number" formControlName="Goal Achievement" />
        </mat-form-field>

        <mat-form-field appearance="outline" class="w-full mb-3">
          <mat-label>Teamwork</mat-label>
          <input matInput type="number" formControlName="Teamwork" />
        </mat-form-field>

        <mat-form-field appearance="outline" class="w-full mb-3">
          <mat-label>Leadership</mat-label>
          <input matInput type="number" formControlName="Leadership" />
        </mat-form-field>
      </div>
      -->

      <!-- ðŸš« Skill Ratings Section (Currently Disabled)
      <div formGroupName="skillRatings" class="mb-4">
        <h3 class="text-lg font-semibold mb-2">Skill Ratings</h3>

        <mat-form-field appearance="outline" class="w-full mb-3">
          <mat-label>Technical Knowledge</mat-label>
          <input matInput type="number" formControlName="Technical Knowledge" />
        </mat-form-field>

        <mat-form-field appearance="outline" class="w-full mb-3">
          <mat-label>Communication</mat-label>
          <input matInput type="number" formControlName="Communication" />
        </mat-form-field>

        <mat-form-field appearance="outline" class="w-full mb-3">
          <mat-label>Decision Making</mat-label>
          <input matInput type="number" formControlName="Decision Making" />
        </mat-form-field>
      </div>
      -->

      <!-- Feedback -->
      <mat-form-field appearance="outline" class="w-full mb-4">
        <mat-label>Feedback</mat-label>
        <textarea matInput formControlName="feedback"></textarea>
      </mat-form-field>

      <!-- Improvement Areas -->
      <mat-form-field appearance="outline" class="w-full mb-4">
        <mat-label>Improvement Areas</mat-label>
        <textarea matInput formControlName="improvementAreas"></textarea>
      </mat-form-field>

      <!-- Development Plan -->
      <mat-form-field appearance="outline" class="w-full mb-4">
        <mat-label>Development Plan</mat-label>
        <textarea matInput formControlName="developmentPlan"></textarea>
      </mat-form-field>

      <!-- Submit Button -->
      <button mat-raised-button color="primary" type="submit" [disabled]="isSubmitting">
        {{ isSubmitting ? 'Submitting...' : 'Create Appraisal' }}
      </button>
    </form>
  </mat-card-content>
</mat-card>
