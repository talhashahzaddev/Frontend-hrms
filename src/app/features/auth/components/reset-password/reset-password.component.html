<div class="reset-password-card mat-elevation-8">
  <!-- Header Section -->
  <div class="reset-password-header">
    <div class="logo">
      <mat-icon class="logo-icon">business</mat-icon>
      <h1 class="brand-title">Brisk People</h1>
    </div>
    <mat-icon class="main-icon">lock_reset</mat-icon>
    <h2 class="reset-password-title">Reset Your Password</h2>
    <p class="reset-password-subtitle">
      Choose a strong password to keep your account secure.
    </p>
  </div>

  <!-- Reset Password Form -->
  <div class="reset-password-form">
    <form [formGroup]="resetPasswordForm" (ngSubmit)="onSubmit()" novalidate>
      <!-- New Password -->
      <mat-form-field appearance="outline" class="form-field">
        <mat-label>New Password</mat-label>
        <mat-icon matPrefix>lock</mat-icon>
        <input
          matInput
          [type]="hidePassword ? 'password' : 'text'"
          formControlName="password"
          placeholder="Enter new password"
          autocomplete="new-password"
        />
        <button
          mat-icon-button
          matSuffix
          type="button"
          (click)="hidePassword = !hidePassword"
          [attr.aria-label]="'Hide password'"
          [attr.aria-pressed]="hidePassword"
        >
          <mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
        </button>
        <mat-error *ngIf="isFieldInvalid('password')">
          {{ getErrorMessage('password') }}
        </mat-error>
      </mat-form-field>

      <!-- Confirm Password -->
      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Confirm Password</mat-label>
        <mat-icon matPrefix>lock</mat-icon>
        <input
          matInput
          [type]="hideConfirmPassword ? 'password' : 'text'"
          formControlName="confirmPassword"
          placeholder="Re-enter new password"
          autocomplete="new-password"
        />
        <button
          mat-icon-button
          matSuffix
          type="button"
          (click)="hideConfirmPassword = !hideConfirmPassword"
          [attr.aria-label]="'Hide password'"
          [attr.aria-pressed]="hideConfirmPassword"
        >
          <mat-icon>{{ hideConfirmPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
        </button>
        <mat-error *ngIf="isFieldInvalid('confirmPassword') || hasMismatchError()">
          {{ getErrorMessage('confirmPassword') || 'Passwords do not match' }}
        </mat-error>
      </mat-form-field>

      <!-- Form Actions -->
      <div class="form-actions">
        <button
          mat-flat-button
          type="submit"
          [disabled]="resetPasswordForm.invalid || isLoading"
          class="reset-button"
        >
          <mat-spinner *ngIf="isLoading" diameter="20" class="button-spinner"></mat-spinner>
          {{ isLoading ? 'Resetting...' : 'Reset Password' }}
        </button>
      </div>
    </form>
  </div>
</div>
